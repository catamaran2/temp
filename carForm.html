<!DOCTYPE html>
<html lang="en">
<script type="text/javascript" src="js/carForm.js"></script>
<form method="post" onsubmit="myFunction()">
    <table>
        <tr>
            <td>Name:</td>
            <td><input type="text" name="carName" required="required" autofocus id="carNameId"/></td>
        </tr>
        <tr>
            <td>Consumption:</td>
            <td><input type="number" name="consumption" required="required" id="consumptionId"/></td>
        </tr>
        <tr>
            <td>Color:</td>
            <td><input type="color" name="color" required="required" id="colorId"/></td>
        </tr>
        <tr>
            <td>Manufacturer:</td>
            <td>
                <select name="carManufacturer" required="required" id="carManufacturerId">
                    <option value="Toyota">Toyota</option>
                    <option value="Bugatti">Bugatti</option>
                    <option value="Ford">Ford</option>
                    <option value="Lada">Lada</option>
                    <option value="Lamborghini">lamborghini</option>
                    <option value="Peugeot">Peugeot</option>
                    <option value="Audi">Audi</option>
                    <option value="BMW">BMW</option>
                    <option value="Opel">Opel</option>
                    <option value="Volkswagen">Volkswagen</option>
                    <option value="Alfa Romeo">Alfa Romeo</option>
                    <option value="Honda">Honda</option>
                </select>
            </td>
        </tr>
        <tr>
            <td>Avaiable:</td>
            <td><input type="number" name="avaiable" required="required" id="avaiableId"/></td>
        </tr>
        <tr>
            <td>Year:</td>
            <td><input type="number" name="year" required="required" id="yearId"/></td>
        </tr>
        <tr>
            <td>Horsepower:</td>
            <td><input type="number" name="horsepower" required="required" id="horsepowerId"/></td>
        </tr>
        <tr>
            <td></td>
            <td><input type="submit" name="insert" value="Add Car" id="insertId"/></td>
        </tr>
    </table>
</form>

<script>
    function myFunction() {

        alert("The form was submitted");

        var carName = document.getElementById("carNameId")
        var consumption = document.getElementById("consumptionId").value;
        var color = document.getElementById("colorId").value;
        var carManufacturer = document.getElementById("carManufacturerId").value;
        var avaiable = document.getElementById("avaiableId").value;
        var year = document.getElementById("yearId").value;
        var horsepower = document.getElementById("horsepowerId").value;


        $.post("https://webtechcars.herokuapp.com/api/cars",
            {
                name: carName,
                consumption: consumption,
                color: color,
                manufacturer: carManufacturer,
                avaiable: avaiable,
                year: year,
                horsepower: horsepower
            },
            function(data,status){
                alert("Data: " + data + "\nStatus: " + status);
            });


        console.log(response);
        alert(response);


    }
</script>

</html>
